# Gitæ¨é€MCPæœåŠ¡å™¨ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

Gitæ¨é€MCPæœåŠ¡å™¨æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºå¤„ç†Gitç‰ˆæœ¬æ§åˆ¶æ“ä½œçš„MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨ã€‚å®ƒæä¾›äº†å®Œæ•´çš„Gitæ¨é€å·¥ä½œæµï¼ŒåŒ…æ‹¬æ–‡ä»¶æ·»åŠ ã€æäº¤ã€æ ‡ç­¾ç®¡ç†å’Œæ¨é€åˆ°è¿œç¨‹ä»“åº“ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½
- **ä¸€é”®æ¨é€**: `git_push_all` - è‡ªåŠ¨æ‰§è¡Œæ·»åŠ ã€æäº¤ã€æ¨é€çš„å®Œæ•´æµç¨‹
- **çŠ¶æ€æ£€æŸ¥**: `git_status` - æŸ¥çœ‹å½“å‰Gitä»“åº“çŠ¶æ€
- **åˆ†æ­¥æ“ä½œ**: `git_add_commit` - å•ç‹¬æ‰§è¡Œæ·»åŠ å’Œæäº¤æ“ä½œ
- **æ¨é€ç®¡ç†**: `git_push` - çµæ´»çš„æ¨é€é…ç½®

### ğŸ·ï¸ æ ‡ç­¾æ”¯æŒ
- è‡ªåŠ¨åˆ›å»ºå’Œæ¨é€æ ‡ç­¾
- æ”¯æŒå¸¦æ³¨é‡Šçš„æ ‡ç­¾
- æ‰¹é‡æ ‡ç­¾æ¨é€

### ğŸ”§ æ™ºèƒ½ç‰¹æ€§
- è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶å˜æ›´
- æ™ºèƒ½é”™è¯¯å¤„ç†å’ŒæŠ¥å‘Š
- æ”¯æŒè‡ªå®šä¹‰æäº¤ä¿¡æ¯
- çµæ´»çš„è¿œç¨‹ä»“åº“é…ç½®

## å®‰è£…é…ç½®

### 1. æ–‡ä»¶ç»“æ„
```
/home/metaspeekoj/mcp-servers/
â”œâ”€â”€ git_push_mcp_server.js      # MCPæœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ git_push_package.json       # ä¾èµ–é…ç½®æ–‡ä»¶
â””â”€â”€ GIT_PUSH_MCP_USAGE.md       # æœ¬ä½¿ç”¨è¯´æ˜
```

### 2. ä¾èµ–å®‰è£…
```bash
cd /home/metaspeekoj/mcp-servers
npm install --package-lock-only
```

### 3. MCPé…ç½®
åœ¨Trae AIçš„MCPé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "mcpServers": {
    "git-push": {
      "command": "node",
      "args": ["/home/metaspeekoj/mcp-servers/git_push_mcp_server.js"],
      "cwd": "/home/metaspeekoj/mcp-servers"
    }
  }
}
```

## å·¥å…·è¯¦è§£

### 1. git_push_all - ä¸€é”®æ¨é€

**åŠŸèƒ½**: æ‰§è¡Œå®Œæ•´çš„Gitæ¨é€æµç¨‹

**å‚æ•°**:
- `commit_message` (å¯é€‰): æäº¤ä¿¡æ¯ï¼Œé»˜è®¤ä¸º"è‡ªåŠ¨æäº¤ï¼šæ›´æ–°é¡¹ç›®æ–‡ä»¶"
- `add_tag` (å¯é€‰): æ˜¯å¦æ·»åŠ æ ‡ç­¾ï¼Œé»˜è®¤ä¸ºfalse
- `tag_name` (å¯é€‰): æ ‡ç­¾åç§°
- `tag_message` (å¯é€‰): æ ‡ç­¾ä¿¡æ¯

**æ‰§è¡Œæµç¨‹**:
1. æ£€æŸ¥GitçŠ¶æ€
2. æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶ (`git add .`)
3. æäº¤æ›´æ”¹ (`git commit`)
4. åˆ›å»ºæ ‡ç­¾ï¼ˆå¦‚æœæŒ‡å®šï¼‰
5. æ¨é€åˆ°è¿œç¨‹ä»“åº“ (`git push origin main`)
6. æ¨é€æ ‡ç­¾ï¼ˆå¦‚æœæœ‰ï¼‰
7. æ˜¾ç¤ºæœ€ç»ˆçŠ¶æ€

**ä½¿ç”¨ç¤ºä¾‹**:
```javascript
// åŸºæœ¬æ¨é€
{
  "commit_message": "ä¿®å¤è€ƒè¯•åˆ†æ•°è®¡ç®—é—®é¢˜"
}

// å¸¦æ ‡ç­¾æ¨é€
{
  "commit_message": "å‘å¸ƒç‰ˆæœ¬v1.2.0",
  "add_tag": true,
  "tag_name": "v1.2.0",
  "tag_message": "ä¿®å¤è€ƒè¯•åˆ†æ•°è®¡ç®—é—®é¢˜ï¼Œä¼˜åŒ–å‰ç«¯ç•Œé¢"
}
```

### 2. git_status - çŠ¶æ€æ£€æŸ¥

**åŠŸèƒ½**: æŸ¥çœ‹å½“å‰Gitä»“åº“çŠ¶æ€å’Œä¿®æ”¹çš„æ–‡ä»¶

**å‚æ•°**: æ— 

**è¿”å›ä¿¡æ¯**:
- å½“å‰åˆ†æ”¯çŠ¶æ€
- æš‚å­˜åŒºæ–‡ä»¶
- å·¥ä½œåŒºä¿®æ”¹
- æœªè·Ÿè¸ªæ–‡ä»¶

### 3. git_add_commit - æ·»åŠ å’Œæäº¤

**åŠŸèƒ½**: å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå¹¶æäº¤

**å‚æ•°**:
- `files` (å¯é€‰): è¦æ·»åŠ çš„æ–‡ä»¶åˆ—è¡¨ï¼Œé»˜è®¤ä¸º["."]ï¼ˆæ‰€æœ‰æ–‡ä»¶ï¼‰
- `commit_message` (å¯é€‰): æäº¤ä¿¡æ¯

**ä½¿ç”¨ç¤ºä¾‹**:
```javascript
// æäº¤æ‰€æœ‰æ–‡ä»¶
{
  "commit_message": "æ›´æ–°å‰ç«¯ç»„ä»¶"
}

// æäº¤æŒ‡å®šæ–‡ä»¶
{
  "files": ["src/components/", "package.json"],
  "commit_message": "æ›´æ–°ç»„ä»¶å’Œä¾èµ–"
}
```

### 4. git_push - æ¨é€æ“ä½œ

**åŠŸèƒ½**: æ¨é€ä»£ç åˆ°è¿œç¨‹ä»“åº“

**å‚æ•°**:
- `remote` (å¯é€‰): è¿œç¨‹ä»“åº“åç§°ï¼Œé»˜è®¤ä¸º"origin"
- `branch` (å¯é€‰): åˆ†æ”¯åç§°ï¼Œé»˜è®¤ä¸º"main"
- `push_tags` (å¯é€‰): æ˜¯å¦æ¨é€æ ‡ç­¾ï¼Œé»˜è®¤ä¸ºfalse

**ä½¿ç”¨ç¤ºä¾‹**:
```javascript
// åŸºæœ¬æ¨é€
{
  "remote": "origin",
  "branch": "main"
}

// æ¨é€å¹¶åŒ…å«æ ‡ç­¾
{
  "remote": "origin",
  "branch": "main",
  "push_tags": true
}
```

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: æ—¥å¸¸å¼€å‘æ¨é€
```javascript
// ä½¿ç”¨git_push_allè¿›è¡Œå¿«é€Ÿæ¨é€
{
  "commit_message": "å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"
}
```

### åœºæ™¯2: ç‰ˆæœ¬å‘å¸ƒ
```javascript
// åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾å¹¶æ¨é€
{
  "commit_message": "å‘å¸ƒç‰ˆæœ¬v2.1.0",
  "add_tag": true,
  "tag_name": "v2.1.0",
  "tag_message": "æ–°å¢é€‰æ‹©é¢˜åŠŸèƒ½ï¼Œä¿®å¤å·²çŸ¥é—®é¢˜"
}
```

### åœºæ™¯3: åˆ†æ­¥æ“ä½œ
```javascript
// 1. å…ˆæ£€æŸ¥çŠ¶æ€
git_status

// 2. æ·»åŠ å’Œæäº¤
{
  "files": ["frontend/", "backend/models/"],
  "commit_message": "æ›´æ–°å‰åç«¯æ¨¡å‹"
}

// 3. æ¨é€
{
  "remote": "origin",
  "branch": "main"
}
```

## é”™è¯¯å¤„ç†

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

1. **æ¨é€å¤±è´¥ - è®¤è¯é—®é¢˜**
   - æ£€æŸ¥GitHubè®¿é—®ä»¤ç‰Œ
   - ç¡®è®¤ä»“åº“æƒé™

2. **æäº¤å¤±è´¥ - æ²¡æœ‰æ›´æ”¹**
   - æœåŠ¡å™¨ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æç¤º
   - ä¸ä¼šä¸­æ–­æ“ä½œæµç¨‹

3. **æ ‡ç­¾å†²çª**
   - æ£€æŸ¥æ ‡ç­¾æ˜¯å¦å·²å­˜åœ¨
   - ä½¿ç”¨ä¸åŒçš„æ ‡ç­¾åç§°

4. **ç½‘ç»œé—®é¢˜**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - é‡è¯•æ¨é€æ“ä½œ

## æœ€ä½³å®è·µ

### 1. æäº¤ä¿¡æ¯è§„èŒƒ
```javascript
// å¥½çš„æäº¤ä¿¡æ¯
"ä¿®å¤: è€ƒè¯•åˆ†æ•°è®¡ç®—é”™è¯¯"
"æ–°å¢: ç”¨æˆ·æƒé™ç®¡ç†åŠŸèƒ½"
"ä¼˜åŒ–: å‰ç«¯é¡µé¢åŠ è½½æ€§èƒ½"
"æ–‡æ¡£: æ›´æ–°APIä½¿ç”¨è¯´æ˜"

// é¿å…çš„æäº¤ä¿¡æ¯
"ä¿®æ”¹"
"æ›´æ–°"
"fix"
```

### 2. æ ‡ç­¾å‘½åè§„èŒƒ
```javascript
// è¯­ä¹‰åŒ–ç‰ˆæœ¬
"v1.0.0"    // ä¸»ç‰ˆæœ¬
"v1.1.0"    // æ¬¡ç‰ˆæœ¬
"v1.1.1"    // è¡¥ä¸ç‰ˆæœ¬

// åŠŸèƒ½æ ‡ç­¾
"feature-user-auth"     // åŠŸèƒ½åˆ†æ”¯
"hotfix-score-calc"     // çƒ­ä¿®å¤
"release-2025.01"       // å‘å¸ƒç‰ˆæœ¬
```

### 3. å·¥ä½œæµå»ºè®®
```javascript
// å¼€å‘é˜¶æ®µ - é¢‘ç¹å°æäº¤
git_add_commit({
  "commit_message": "å®ç°ç™»å½•è¡¨å•éªŒè¯"
})

// åŠŸèƒ½å®Œæˆ - æ¨é€åˆ°è¿œç¨‹
git_push({
  "remote": "origin",
  "branch": "feature-login"
})

// ç‰ˆæœ¬å‘å¸ƒ - ä¸€é”®æ¨é€å¸¦æ ‡ç­¾
git_push_all({
  "commit_message": "å‘å¸ƒç”¨æˆ·è®¤è¯åŠŸèƒ½",
  "add_tag": true,
  "tag_name": "v1.2.0",
  "tag_message": "æ–°å¢ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†"
})
```

## æ•…éšœæ’é™¤

### æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
```bash
# æ£€æŸ¥MCPæœåŠ¡å™¨è¿›ç¨‹
ps aux | grep git_push_mcp_server.js

# æ‰‹åŠ¨å¯åŠ¨æœåŠ¡å™¨
cd /home/metaspeekoj/mcp-servers
node git_push_mcp_server.js
```

### éªŒè¯Gité…ç½®
```bash
# æ£€æŸ¥Gité…ç½®
git config --list

# æ£€æŸ¥è¿œç¨‹ä»“åº“
git remote -v

# æµ‹è¯•è¿æ¥
git ls-remote origin
```

### æ—¥å¿—è°ƒè¯•
æœåŠ¡å™¨ä¼šè¾“å‡ºè¯¦ç»†çš„æ“ä½œæ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼š
- å‘½ä»¤æ‰§è¡ŒçŠ¶æ€
- é”™è¯¯ä¿¡æ¯å’Œå †æ ˆ
- æ“ä½œç»“æœåé¦ˆ

## æ‰©å±•åŠŸèƒ½

æœªæ¥å¯ä»¥æ‰©å±•çš„åŠŸèƒ½ï¼š
- åˆ†æ”¯ç®¡ç†æ“ä½œ
- åˆå¹¶è¯·æ±‚åˆ›å»º
- å†²çªè§£å†³è¾…åŠ©
- æ‰¹é‡ä»“åº“æ“ä½œ
- Gité’©å­é›†æˆ

## æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯
- **Node.js**: æœåŠ¡å™¨è¿è¡Œç¯å¢ƒ
- **@modelcontextprotocol/sdk**: MCPåè®®å®ç°
- **child_process**: Gitå‘½ä»¤æ‰§è¡Œ
- **Promise/async**: å¼‚æ­¥æ“ä½œå¤„ç†

### å®‰å…¨è€ƒè™‘
- å‘½ä»¤æ³¨å…¥é˜²æŠ¤
- è·¯å¾„éå†ä¿æŠ¤
- é”™è¯¯ä¿¡æ¯è¿‡æ»¤
- æƒé™æ£€æŸ¥æœºåˆ¶

---

**ç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ14æ—¥  
**ç»´æŠ¤è€…**: MetaSeekOJé¡¹ç›®å›¢é˜Ÿ  
**è®¸å¯è¯**: MIT License