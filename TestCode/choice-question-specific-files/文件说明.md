# 选择题系统核心文件说明

## 概述

本文件夹包含了选择题系统中最核心的前端和后端文件，专门用于问题定位和解决。

## 文件结构

```
choice-question-specific-files/
├── frontend/                    # 前端核心文件
│   ├── PracticeMode.vue        # 练习模式组件（完整文件）
│   ├── ExamPaper.vue           # 考试模式组件（完整文件）
│   └── api-index.js            # API接口定义文件
├── backend/                     # 后端核心文件
│   ├── exam-views.py           # 考试相关API视图
│   ├── exam-serializers.py     # 考试相关序列化器
│   ├── exam-models.py          # 考试模型定义
│   └── urls.py                 # URL路由配置
└── 文件说明.md                 # 本说明文档
```

## 前端文件详情

### 1. PracticeMode.vue
- **功能**: 练习模式的主要组件
- **特性**: 
  - 逐题练习界面
  - 实时答题反馈
  - 进度跟踪和统计
  - 答题卡导航
  - 筛选和搜索功能
- **关键方法**:
  - `loadQuestions()` - 加载题目
  - `submitCurrentAnswer()` - 提交当前答案
  - `judgeAnswer()` - 判题逻辑
  - `startPractice()` - 开始练习

### 2. ExamPaper.vue
- **功能**: 考试模式的主要组件
- **特性**:
  - 试卷形式答题
  - 倒计时功能
  - 答题状态管理
  - 题目标记功能
  - 统一提交机制
- **关键方法**:
  - `startExam()` - 开始考试
  - `submitExam()` - 提交考试
  - `updateTimer()` - 更新计时器
  - `markQuestion()` - 标记题目

### 3. api-index.js
- **功能**: API接口定义和封装
- **包含接口**:
  - 题目相关API
  - 考试相关API
  - 提交相关API
  - 统计相关API

## 后端文件详情

### 1. exam-views.py
- **功能**: 考试相关的API视图
- **主要视图类**:
  - `ExamPaperViewSet` - 试卷管理
  - `ExamSessionViewSet` - 考试会话管理
  - `ExamSubmissionView` - 考试提交处理
- **关键功能**:
  - 试卷创建和获取
  - 考试会话管理
  - 答案提交和评分
  - 考试结果统计

### 2. exam-serializers.py
- **功能**: 考试相关的数据序列化器
- **主要序列化器**:
  - `ExamPaperSerializer` - 试卷序列化
  - `ExamSessionSerializer` - 考试会话序列化
  - `ExamSubmissionSerializer` - 考试提交序列化
- **数据验证**: 包含完整的数据验证逻辑

### 3. exam-models.py
- **功能**: 考试相关的数据模型
- **主要模型**:
  - `ExamPaper` - 试卷模型
  - `ExamPaperQuestion` - 试卷题目关联模型
  - `ExamSession` - 考试会话模型
- **关系设计**: 完整的数据库关系设计

### 4. urls.py
- **功能**: URL路由配置
- **路由规则**: 包含所有选择题相关的URL路由
- **API端点**: 定义了完整的RESTful API端点

## 常见问题排查

### 前端问题
1. **练习模式无法加载题目**
   - 检查 `PracticeMode.vue` 中的 `loadQuestions()` 方法
   - 验证 API 调用是否正确
   - 检查筛选参数是否有效

2. **考试模式计时器异常**
   - 检查 `ExamPaper.vue` 中的 `updateTimer()` 方法
   - 验证时间计算逻辑
   - 检查组件生命周期管理

3. **API调用失败**
   - 检查 `api-index.js` 中的接口定义
   - 验证请求参数格式
   - 检查响应数据处理

### 后端问题
1. **考试创建失败**
   - 检查 `exam-views.py` 中的创建逻辑
   - 验证数据验证规则
   - 检查权限控制

2. **数据序列化错误**
   - 检查 `exam-serializers.py` 中的字段定义
   - 验证数据类型匹配
   - 检查关联关系处理

3. **数据库查询问题**
   - 检查 `exam-models.py` 中的模型定义
   - 验证数据库关系
   - 检查查询优化

## 调试建议

1. **前端调试**:
   - 使用浏览器开发者工具查看网络请求
   - 检查Vue组件的数据状态
   - 查看控制台错误信息

2. **后端调试**:
   - 检查Django日志输出
   - 使用Django调试工具
   - 验证数据库查询

3. **接口调试**:
   - 使用Postman等工具测试API
   - 检查请求和响应格式
   - 验证数据传输

## 版本信息

- 提取时间: 2024年
- 源系统: 青岛大学在线判题系统
- 技术栈: Vue.js 2.x + Django 3.x+
- 用途: 问题定位和功能调试

---

**注意**: 这些文件是从完整系统中提取的核心文件，用于问题分析和解决。在实际部署时，需要确保相关依赖和配置正确。