{"version":3,"file":"227.591a1f7dc26ff3076a69.chunk.css","mappings":";AA0SA;EACA;AACA;AAEA;EACA;EACA;AACA;AAEA;EACA;EACA;EACA;EACA;AACA;AAEA;EACA;AACA;AAEA;EACA;AACA;AAEA;EACA;EACA;EACA;AACA;AAEA;EACA;AACA;AAEA;EACA;EACA;AACA;AAEA;EACA;EACA;AACA;AAEA;EACA;EACA;AACA;AAEA;EACA;EACA;EACA;EACA;EACA;AACA;AAEA;EACA;EACA;AACA;AAEA;EACA;EACA;AACA;AAEA;EACA;EACA;AACA;AAEA;EACA;EACA;EACA;AACA;AAEA;EACA;AACA;AAEA;EACA;EACA;AACA;AAEA;EACA;AACA;AAEA;EACA;AACA;AAEA;EACA;AACA;AAEA;;EAEA;EACA;AACA;AAEA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;AAEA;EACA;EACA;EACA;EACA;AACA","sources":["webpack://ChoiceQuestionPlugin/./views/ChoiceQuestionDetail.vue"],"sourcesContent":["<template>\n  <div class=\"choice-question-detail\">\n    <Panel shadow v-if=\"question\">\n      <div slot=\"title\">\n        <Icon type=\"ios-help-circle\" />\n        题目 #{{ question._id }}: {{ question.title }}\n      </div>\n      \n      <div slot=\"extra\">\n        <Button \n          type=\"error\" \n          size=\"small\" \n          @click=\"addToWrongQuestions\"\n          v-if=\"!isInWrongQuestions && hasSubmitted\"\n        >\n          <Icon type=\"ios-bookmark\" />\n          加入错题本\n        </Button>\n      </div>\n      \n      <!-- 题目信息 -->\n      <div class=\"question-info\">\n        <Row :gutter=\"16\">\n          <Col :span=\"12\">\n            <div class=\"info-item\">\n              <span class=\"label\">分类：</span>\n              <span>{{ question.category ? question.category.name : '未分类' }}</span>\n            </div>\n          </Col>\n          <Col :span=\"12\">\n            <div class=\"info-item\">\n              <span class=\"label\">难度：</span>\n              <Tag :color=\"getDifficultyColor(question.difficulty)\">\n                {{ getDifficultyText(question.difficulty) }}\n              </Tag>\n            </div>\n          </Col>\n        </Row>\n        <Row :gutter=\"16\" style=\"margin-top: 8px\">\n          <Col :span=\"12\">\n            <div class=\"info-item\">\n              <span class=\"label\">题型：</span>\n              <span>{{ question.question_type === 'single' ? '单选题' : '多选题' }}</span>\n            </div>\n          </Col>\n          <Col :span=\"12\">\n            <div class=\"info-item\">\n              <span class=\"label\">分值：</span>\n              <span>{{ question.score }} 分</span>\n            </div>\n          </Col>\n        </Row>\n        <div class=\"info-item\" style=\"margin-top: 8px\" v-if=\"question.tags && question.tags.length > 0\">\n          <span class=\"label\">标签：</span>\n          <Tag \n            v-for=\"tag in question.tags\" \n            :key=\"tag.id\"\n            :color=\"tag.color\"\n            style=\"margin-right: 4px\"\n          >\n            {{ tag.name }}\n          </Tag>\n        </div>\n      </div>\n      \n      <!-- 题目内容 -->\n      <div class=\"question-content\">\n        <h3>题目描述</h3>\n        <div class=\"content\" v-html=\"question.content\"></div>\n      </div>\n      \n      <!-- 选项 -->\n      <div class=\"question-options\">\n        <h3>选项</h3>\n        <div v-if=\"question.question_type === 'single'\">\n          <RadioGroup v-model=\"selectedAnswer\" :disabled=\"hasSubmitted\">\n            <div \n              v-for=\"(option, index) in question.options\" \n              :key=\"index\"\n              class=\"option-item\"\n              :class=\"getOptionClass(index)\"\n            >\n              <Radio :label=\"index\">\n                <span class=\"option-label\">{{ String.fromCharCode(65 + index) }}.</span>\n                <span class=\"option-content\" v-html=\"option\"></span>\n              </Radio>\n            </div>\n          </RadioGroup>\n        </div>\n        <div v-else>\n          <CheckboxGroup v-model=\"selectedAnswers\" :disabled=\"hasSubmitted\">\n            <div \n              v-for=\"(option, index) in question.options\" \n              :key=\"index\"\n              class=\"option-item\"\n              :class=\"getOptionClass(index)\"\n            >\n              <Checkbox :label=\"index\">\n                <span class=\"option-label\">{{ String.fromCharCode(65 + index) }}.</span>\n                <span class=\"option-content\" v-html=\"option\"></span>\n              </Checkbox>\n            </div>\n          </CheckboxGroup>\n        </div>\n      </div>\n      \n      <!-- 提交按钮 -->\n      <div class=\"submit-section\" v-if=\"!hasSubmitted\">\n        <Button \n          type=\"primary\" \n          size=\"large\"\n          @click=\"submitAnswer\"\n          :loading=\"submitting\"\n          :disabled=\"!canSubmit\"\n        >\n          提交答案\n        </Button>\n      </div>\n      \n      <!-- 答案解析 -->\n      <div class=\"answer-analysis\" v-if=\"hasSubmitted\">\n        <Divider>答案解析</Divider>\n        \n        <div class=\"result-info\">\n          <Alert \n            :type=\"isCorrect ? 'success' : 'error'\"\n            :show-icon=\"true\"\n          >\n            <span slot=\"desc\">\n              {{ isCorrect ? '回答正确！' : '回答错误！' }}\n              得分：{{ currentScore }} / {{ question.score }}\n            </span>\n          </Alert>\n        </div>\n        \n        <div class=\"correct-answer\">\n          <h4>正确答案</h4>\n          <div v-if=\"question.question_type === 'single'\">\n            <span class=\"answer-label\">{{ String.fromCharCode(65 + question.correct_answer[0]) }}</span>\n          </div>\n          <div v-else>\n            <span \n              v-for=\"(answer, index) in question.correct_answer\" \n              :key=\"index\"\n              class=\"answer-label\"\n              style=\"margin-right: 8px\"\n            >\n              {{ String.fromCharCode(65 + answer) }}\n            </span>\n          </div>\n        </div>\n        \n        <div class=\"explanation\" v-if=\"question.explanation\">\n          <h4>解析</h4>\n          <div class=\"content\" v-html=\"question.explanation\"></div>\n        </div>\n      </div>\n    </Panel>\n    \n    <!-- 加载状态 -->\n    <div v-else class=\"loading-container\">\n      <Spin size=\"large\">加载中...</Spin>\n    </div>\n  </div>\n</template>\n\n<script>\nimport api from '../api'\n\nexport default {\n  name: 'ChoiceQuestionDetail',\n  data() {\n    return {\n      question: null,\n      selectedAnswer: null, // 单选答案\n      selectedAnswers: [], // 多选答案\n      hasSubmitted: false,\n      submitting: false,\n      isCorrect: false,\n      currentScore: 0,\n      isInWrongQuestions: false\n    }\n  },\n  \n  computed: {\n    questionId() {\n      return this.$route.params.id\n    },\n    \n    canSubmit() {\n      if (this.question?.question_type === 'single') {\n        return this.selectedAnswer !== null\n      } else {\n        return this.selectedAnswers.length > 0\n      }\n    }\n  },\n  \n  mounted() {\n    this.getQuestionDetail()\n  },\n  \n  methods: {\n    async getQuestionDetail() {\n      try {\n        const res = await api.getQuestionDetail(this.questionId)\n        this.question = res.data.data\n      } catch (err) {\n        this.$Message.error('获取题目详情失败')\n        console.error(err)\n      }\n    },\n    \n    async submitAnswer() {\n      this.submitting = true\n      try {\n        let userAnswer\n        if (this.question.question_type === 'single') {\n          userAnswer = [this.selectedAnswer]\n        } else {\n          userAnswer = this.selectedAnswers.sort((a, b) => a - b)\n        }\n        \n        const res = await api.submitAnswer({\n          question_id: this.question._id,\n          user_answer: userAnswer\n        })\n        \n        const result = res.data.data\n        this.hasSubmitted = true\n        this.isCorrect = result.is_correct\n        this.currentScore = result.score\n        \n        this.$Message.success('提交成功！')\n      } catch (err) {\n        this.$Message.error('提交失败')\n        console.error(err)\n      } finally {\n        this.submitting = false\n      }\n    },\n    \n    async addToWrongQuestions() {\n      try {\n        await api.addToWrongQuestions({\n          question_id: this.question._id\n        })\n        this.isInWrongQuestions = true\n        this.$Message.success('已加入错题本')\n      } catch (err) {\n        this.$Message.error('加入错题本失败')\n        console.error(err)\n      }\n    },\n    \n    getDifficultyColor(difficulty) {\n      const colorMap = {\n        1: 'success',\n        2: 'warning', \n        3: 'error'\n      }\n      return colorMap[difficulty] || 'default'\n    },\n    \n    getDifficultyText(difficulty) {\n      const textMap = {\n        1: '简单',\n        2: '中等',\n        3: '困难'\n      }\n      return textMap[difficulty] || '未知'\n    },\n    \n    getOptionClass(index) {\n      if (!this.hasSubmitted) return ''\n      \n      const isCorrect = this.question.correct_answer.includes(index)\n      let isSelected = false\n      \n      if (this.question.question_type === 'single') {\n        isSelected = this.selectedAnswer === index\n      } else {\n        isSelected = this.selectedAnswers.includes(index)\n      }\n      \n      if (isCorrect) {\n        return 'option-correct'\n      } else if (isSelected && !isCorrect) {\n        return 'option-wrong'\n      }\n      \n      return ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.choice-question-detail {\n  margin: 20px;\n}\n\n.loading-container {\n  text-align: center;\n  padding: 100px 0;\n}\n\n.question-info {\n  margin-bottom: 24px;\n  padding: 16px;\n  background: #f8f8f9;\n  border-radius: 4px;\n}\n\n.info-item {\n  margin-bottom: 8px;\n}\n\n.info-item:last-child {\n  margin-bottom: 0;\n}\n\n.label {\n  font-weight: bold;\n  color: #666;\n  margin-right: 8px;\n}\n\n.question-content {\n  margin-bottom: 24px;\n}\n\n.question-content h3 {\n  margin-bottom: 12px;\n  color: #333;\n}\n\n.content {\n  line-height: 1.6;\n  color: #666;\n}\n\n.question-options h3 {\n  margin-bottom: 16px;\n  color: #333;\n}\n\n.option-item {\n  margin-bottom: 12px;\n  padding: 12px;\n  border: 1px solid #e8eaec;\n  border-radius: 4px;\n  transition: all 0.3s;\n}\n\n.option-item:hover {\n  border-color: #2d8cf0;\n  background: #f7f9fc;\n}\n\n.option-item.option-correct {\n  border-color: #19be6b;\n  background: #f0f9ff;\n}\n\n.option-item.option-wrong {\n  border-color: #ed4014;\n  background: #fff2f0;\n}\n\n.option-label {\n  font-weight: bold;\n  margin-right: 8px;\n  color: #2d8cf0;\n}\n\n.option-content {\n  line-height: 1.5;\n}\n\n.submit-section {\n  margin: 32px 0;\n  text-align: center;\n}\n\n.answer-analysis {\n  margin-top: 24px;\n}\n\n.result-info {\n  margin-bottom: 20px;\n}\n\n.correct-answer {\n  margin-bottom: 20px;\n}\n\n.correct-answer h4,\n.explanation h4 {\n  margin-bottom: 12px;\n  color: #333;\n}\n\n.answer-label {\n  display: inline-block;\n  padding: 4px 8px;\n  background: #19be6b;\n  color: white;\n  border-radius: 4px;\n  font-weight: bold;\n}\n\n.explanation .content {\n  padding: 12px;\n  background: #f8f8f9;\n  border-radius: 4px;\n  line-height: 1.6;\n}\n</style>"],"names":[],"sourceRoot":""}