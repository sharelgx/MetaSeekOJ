<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4079黑白方块问题 - 教学设计</title>
    <style>
        body { font-family: 'Microsoft YaHei', sans-serif; line-height: 1.6; margin: 0; padding: 20px; background-color: #f5f7fa; color: #333; }
        .container { max-width: 1000px; margin: 0 auto; background-color: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h2 { color: #3498db; margin-top: 30px; }
        h3 { color: #2980b9; margin-top: 20px; }
        .pattern-example { display: inline-block; background-color: #ecf0f1; padding: 15px; border-radius: 8px; margin: 10px 0; }
        .grid-row { display: flex; }
        .grid-cell { width: 30px; height: 30px; border: 1px solid #bdc3c7; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .white { background-color: white; color: #7f8c8d; }
        .black { background-color: #34495e; color: white; }
        .example-container { display: flex; gap: 20px; margin: 20px 0; flex-wrap: wrap; }
        .example-card { flex: 1; min-width: 300px; background-color: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #3498db; }
        .code-block { background-color: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 8px; font-family: 'Consolas', monospace; overflow-x: auto; margin: 15px 0; }
        .highlight { background-color: #f1c40f; padding: 2px 5px; border-radius: 3px; }
        .tip-box { background-color: #e8f4fd; border-left: 4px solid #3498db; padding: 10px 15px; margin: 15px 0; border-radius: 0 5px 5px 0; }
        .warning-box { background-color: #fdedeb; border-left: 4px solid #e74c3c; padding: 10px 15px; margin: 15px 0; border-radius: 0 5px 5px 0; }
        .step { background-color: #f8f9fa; border-radius: 8px; padding: 20px; margin-bottom: 20px; }
        .step-number { display: inline-block; width: 30px; height: 30px; background-color: #3498db; color: white; border-radius: 50%; text-align: center; line-height: 30px; margin-right: 10px; }
        .interactive-container { margin: 20px 0; }
        .interactive-grid { margin: 15px 0; }
        .btn { background-color: #3498db; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 14px; }
        .btn:hover { background-color: #2980b9; }
        .tab-container { margin: 20px 0; }
        .tabs { display: flex; border-bottom: 1px solid #bdc3c7; }
        .tab { padding: 8px 15px; cursor: pointer; border-bottom: 3px solid transparent; }
        .tab.active { border-bottom-color: #3498db; color: #3498db; font-weight: bold; }
        .tab-content { padding: 15px; display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body>
    <div class="container">
        <h1>GESP四级4079题：黑白方块教学设计</h1>

        <div class="tip-box">
            <strong>题目特点：</strong>本题考察二维数组操作、模式识别和嵌套循环的应用，适合培养学生的算法思维和细节处理能力。
        </div>

        <h2>一、问题分析</h2>
        <p>本题要求我们判断一个n×m的网格中是否存在满足特定条件的4×4子矩形。让我们逐步拆解问题：</p>

        <div class="pattern-example">
            <h3>目标模式</h3>
            <p>满足条件的4×4子矩形必须符合以下结构：</p>
            <div class="grid-row">
                <div class="grid-cell white">0</div>
                <div class="grid-cell white">0</div>
                <div class="grid-cell white">0</div>
                <div class="grid-cell white">0</div>
            </div>
            <div class="grid-row">
                <div class="grid-cell white">0</div>
                <div class="grid-cell black">1</div>
                <div class="grid-cell black">1</div>
                <div class="grid-cell white">0</div>
            </div>
            <div class="grid-row">
                <div class="grid-cell white">0</div>
                <div class="grid-cell black">1</div>
                <div class="grid-cell black">1</div>
                <div class="grid-cell white">0</div>
            </div>
            <div class="grid-row">
                <div class="grid-cell white">0</div>
                <div class="grid-cell white">0</div>
                <div class="grid-cell white">0</div>
                <div class="grid-cell white">0</div>
            </div>
            <p style="margin-top: 10px;">即：<br>
            - 第1行和第4行全为0（白色）<br>
            - 第2行和第3行的第1列和第4列为0，中间两列为1（黑色）</p>
        </div>

        <div class="example-container">
            <div class="example-card">
                <h3>✅ 符合条件的例子</h3>
                <div class="grid-row">
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell black">1</div>
                    <div class="grid-cell black">1</div>
                    <div class="grid-cell white">0</div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell black">1</div>
                    <div class="grid-cell black">1</div>
                    <div class="grid-cell white">0</div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                </div>
            </div>
            <div class="example-card">
                <h3>❌ 不符合条件的例子（中间行多了一个0）</h3>
                <div class="grid-row">
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell black">1</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell black">1</div>
                    <div class="grid-cell black">1</div>
                    <div class="grid-cell white">0</div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                    <div class="grid-cell white">0</div>
                </div>
            </div>
        </div>

        <h2>二、解题思路</h2>
        <p>解决这个问题需要采用系统化的搜索方法，我们可以按照以下步骤进行：</p>

        <div class="step">
            <span class="step-number">1</span>
            <h3>检查边界条件</h3>
            <p>如果网格的行数n&lt;4或列数m&lt;4，则<span class="highlight">一定不存在</span>4×4的子矩形，直接返回No。</p>
        </div>

        <div class="step">
            <span class="step-number">2</span>
            <h3>遍历所有可能的起始位置</h3>
            <p>对于每个可能的4×4子矩形的左上角起始位置(i,j)，检查它是否符合条件。</p>
            <p>起始行i的范围：0 ≤ i ≤ n-4</p>
            <p>起始列j的范围：0 ≤ j ≤ m-4</p>
        </div>

        <div class="step">
            <span class="step-number">3</span>
            <h3>检查子矩形是否符合条件</h3>
            <p>对每个起始位置，检查4×4区域内的每个格子是否符合目标模式：</p>
            <ul>
                <li>第1行(i)和第4行(i+3)：所有格子必须为0</li>
                <li>第2行(i+1)和第3行(i+2)：第1列(j)和第4列(j+3)必须为0，中间两列(j+1,j+2)必须为1</li>
            </ul>
        </div>

        <div class="step">
            <span class="step-number">4</span>
            <h3>优化检查顺序</h3>
            <p>可以先检查最容易出错的条件（第2、3行的中间两列是否为1），如果不满足可以快速跳过，提高效率。</p>
        </div>

        <h2>三、算法实现</h2>
        <p>下面是实现这一思路的C++代码：</p>

        <div class="code-block">
#include <iostream>
#include <vector>
#include <string>
using namespace std;

// 检查从(i,j)开始的4x4子矩形是否符合条件
bool checkPattern(const vector<string>& grid, int i, int j) {
    // 检查第1行（全0）
    for (int col = 0; col < 4; col++) {
        if (grid[i][j+col] != '0') return false;
    }
    
    // 检查第2行和第3行（0,1,1,0）
    for (int row = 1; row <= 2; row++) {
        if (grid[i+row][j] != '0' || grid[i+row][j+3] != '0') return false;
        if (grid[i+row][j+1] != '1' || grid[i+row][j+2] != '1') return false;
    }
    
    // 检查第4行（全0）
    for (int col = 0; col < 4; col++) {
        if (grid[i+3][j+col] != '0') return false;
    }
    
    return true;
}

int main() {
    int t;
    cin >> t;
    
    while (t--) {
        int n, m;
        cin >> n >> m;
        
        // 如果行数或列数不足4，直接输出No
        if (n < 4 || m < 4) {
            cout << "No" << endl;
            // 读取但不处理网格数据
            for (int i = 0; i < n; i++) {
                string s;
                cin >> s;
            }
            continue;
        }
        
        // 读取网格数据
        vector<string> grid(n);
        for (int i = 0; i < n; i++) {
            cin >> grid[i];
        }
        
        bool found = false;
        // 遍历所有可能的起始位置
        for (int i = 0; i <= n-4; i++) {
            for (int j = 0; j <= m-4; j++) {
                if (checkPattern(grid, i, j)) {
                    found = true;
                    break;
                }
            }
            if (found) break;
        }
        
        cout << (found ? "Yes" : "No") << endl;
    }
    
    return 0;
}
        </div>

        <h2>四、关键知识点解析</h2>

        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" onclick="openTab(event, 'nested-loops')">嵌套循环</div>
                <div class="tab" onclick="openTab(event, 'boundary-check')">边界检查</div>
                <div class="tab" onclick="openTab(event, 'function-design')">函数设计</div>
            </div>

            <div id="nested-loops" class="tab-content active">
                <h3>嵌套循环的应用</h3>
                <p>本题需要使用三层嵌套循环：</p>
                <ol>
                    <li>外层循环：遍历测试用例</li>
                    <li>中层循环：遍历所有可能的起始行和起始列</li>
                    <li>内层循环：检查4×4子矩形的每个格子</li>
                </ol>
                <div class="code-block">
// 遍历所有可能的起始位置
for (int i = 0; i <= n-4; i++) {
    for (int j = 0; j <= m-4; j++) {
        if (checkPattern(grid, i, j)) {
            found = true;
            break;
        }
    }
    if (found) break;
}
                </div>
                <p>注意循环的终止条件是<span class="highlight">i <= n-4</span>和<span class="highlight">j <= m-4</span>，确保子矩形不会超出网格范围。</p>
            </div>

            <div id="boundary-check" class="tab-content">
                <h3>边界条件处理</h3>
                <p>处理边界条件是编程中的重要技能：</p>
                <div class="code-block">
// 如果行数或列数不足4，直接输出No
if (n < 4 || m < 4) {
    cout << "No" << endl;
    // 读取但不处理网格数据
    for (int i = 0; i < n; i++) {
        string s;
        cin >> s;
    }
    continue;
}
                </div>
                <p>这段代码展示了良好的边界条件处理：当n或m小于4时，不可能存在4×4子矩形，我们直接输出No并跳过不必要的网格检查。</p>
                <div class="warning-box">
                    <strong>常见错误：</strong>忘记处理这种情况会导致数组访问越界错误，或在后续循环中出现逻辑错误。
                </div>
            </div>

            <div id="function-design" class="tab-content">
                <h3>函数的模块化设计</h3>
                <p>将子矩形检查功能封装为独立函数，使代码更清晰易读：</p>
                <div class="code-block">
// 检查从(i,j)开始的4x4子矩形是否符合条件
bool checkPattern(const vector<string>& grid, int i, int j) {
    // 检查第1行（全0）
    for (int col = 0; col < 4; col++) {
        if (grid[i][j+col] != '0') return false;
    }
    
    // 检查第2行和第3行（0,1,1,0）
    for (int row = 1; row <= 2; row++) {
        if (grid[i+row][j] != '0' || grid[i+row][j+3] != '0') return false;
        if (grid[i+row][j+1] != '1' || grid[i+row][j+2] != '1') return false;
    }
    
    // 检查第4行（全0）
    for (int col = 0; col < 4; col++) {
        if (grid[i+3][j+col] != '0') return false;
    }
    
    return true;
}
                </div>
                <p>这种设计的优点：</p>
                <ul>
                    <li>代码逻辑更清晰，主函数专注于整体流程</li>
                    <li>便于单独测试checkPattern函数</li>
                    <li>符合"单一职责"原则，每个函数只做一件事</li>
                </ul>
            </div>
        </div>

        <h2>五、测试用例解析</h2>
        <p>让我们通过输入样例理解问题：</p>

        <div class="example-card">
            <h3>输入样例1</h3>
            <div class="code-block">
3
1 4
0110
5 5
00000
01100
01100
00001
01100
5 5
00000
01100
01110
00001
01100
            </div>
            <h3>输出样例</h3>
            <div class="code-block">
No
Yes
No
            </div>
        </div>

        <div class="example-container">
            <div class="example-card">
                <h3>测试用例1分析</h3>
                <p>n=1, m=4</p>
                <p>只有1行，无法形成4×4子矩形，输出No。</p>
            </div>
            <div class="example-card">
                <h3>测试用例2分析</h3>
                <p>n=5, m=5</p>
                <p>网格包含一个符合条件的4×4子矩形（从第0行第0列开始），输出Yes。</p>
            </div>
            <div class="example-card">
                <h3>测试用例3分析</h3>
                <p>n=5, m=5</p>
                <p>第3行第3列有一个额外的1，导致第4行不是全0，输出No。</p>
            </div>
        </div>

        <h2>六、教学建议与常见问题</h2>

        <div class="tip-box">
            <strong>教学重点：</strong>帮助学生理解二维数组的索引访问、嵌套循环的控制流程，以及如何将问题分解为可管理的小任务。
        </div>

        <h3>常见错误与难点</h3>
        <ol>
            <li><strong>数组越界错误</strong>：忘记检查n和m是否小于4，或循环条件设置错误</li>
            <li><strong>模式理解错误</strong>：混淆行和列的条件，或错误记忆模式</li>
            <li><strong>效率问题</strong>：没有在找到符合条件的子矩形后立即退出循环</li>
            <li><strong>输入处理错误</strong>：在n<4或m<4时，忘记读取但不处理网格数据</li>
        </ol>

        <h3>教学活动建议</h3>
        <ol>
            <li><strong>可视化练习</strong>：让学生手工标记几个网格中的符合条件子矩形</li>
            <li><strong>代码走查</strong>：使用输入样例手动模拟代码执行过程</li>
            <li><strong>错误调试</strong>：提供含有常见错误的代码，让学生找出并修复</li>
            <li><strong>变体练习</strong>：修改目标模式，让学生调整算法，强化理解</li>
        </ol>

        <h2>七、扩展思考</h2>
        <p>完成基本问题后，可以引导学生思考以下扩展问题：</p>
        <ol>
            <li>如何修改算法，找出所有符合条件的子矩形位置？</li>
            <li>如何优化算法，当n和m很大时（如1000×1000）仍能高效运行？</li>
            <li>如果目标模式可以旋转（如90度、180度），算法需要如何调整？</li>
            <li>如何设计一个交互式程序，让用户可以绘制网格并实时检查是否存在符合条件的子矩形？</li>
        </ol>

        <div class="tip-box">
            <strong>教学总结：</strong>本题虽然看似简单，但涉及了编程中的多个重要概念和技巧。通过系统化的分析和分步实现，学生不仅能掌握解决这个特定问题的方法，还能培养算法思维和问题分解能力，为解决更复杂的问题打下基础。
        </div>
    </div>

    <script>
        // 简单的选项卡切换功能
        function openTab(evt, tabName) {
            // 隐藏所有选项卡内容
            const tabContents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove("active");
            }

            // 移除所有选项卡的活动状态
            const tabs = document.getElementsByClassName("tab");
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove("active");
            }

            // 显示当前选项卡内容并激活选项卡
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
    </script>
</body>
</html>