<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ‡ ç”°å¿Œèµ›é©¬ åŠ¨ç”»æ¼”ç¤ºä¸ä»£ç é«˜äº®</title>
  <!-- å¼•å…¥Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- å¼•å…¥Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <!-- å¼•å…¥highlight.js -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js"></script>
  
  <!-- é…ç½®Tailwindè‡ªå®šä¹‰é¢œè‰²å’Œå­—ä½“ -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            teal: {
              200: '#99f6e4',
            },
            blue: {
              200: '#bfdbfe',
            },
            purple: {
              600: '#9333ea',
            },
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['Consolas', 'Monaco', 'monospace'],
          },
        },
      }
    }
  </script>
</head>
<body class="p-4 bg-gray-100 min-h-screen font-sans">
  <h1 class="text-2xl font-bold mb-4">ğŸ‡ ç”°å¿Œèµ›é©¬ åŠ¨ç”»æ¼”ç¤ºä¸ä»£ç é«˜äº®</h1>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- å·¦ä¾§ï¼šç”°å¿Œèµ›é©¬åŠ¨ç”»æ¼”ç¤º -->
    <div class="bg-white p-4 rounded-lg shadow-lg">
      <h2 class="text-xl font-semibold mb-3">ç”°å¿Œèµ›é©¬ åŠ¨ç”»æ¼”ç¤º</h2>
      
      <div class="mb-4">
        <label class="block mb-1">æˆ‘æ–¹é©¬åŒ¹é€Ÿåº¦ï¼ˆç©ºæ ¼åˆ†éš”ï¼‰</label>
        <input id="youInput" class="border p-2 rounded w-full mb-2" value="1 3 5" />
        <label class="block mb-1">ç”°å¿Œé©¬åŒ¹é€Ÿåº¦ï¼ˆç©ºæ ¼åˆ†éš”ï¼‰</label>
        <input id="tianjiInput" class="border p-2 rounded w-full mb-2" value="2 4 6" />
        <button id="startBtn" class="bg-blue-500 text-white px-4 py-2 rounded mr-2">
          å¼€å§‹æ¯”èµ›
        </button>
        <button id="autoBtn" class="bg-green-500 text-white px-4 py-2 rounded">
          è‡ªåŠ¨æ’­æ”¾
        </button>
      </div>

      <div class="mb-4">
        <h3 class="font-semibold">æˆ‘æ–¹é©¬åŒ¹</h3>
        <div id="horsesYou" class="flex gap-2 flex-wrap mb-2">
          <!-- é©¬åŒ¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
        <h3 class="font-semibold">ç”°å¿Œé©¬åŒ¹</h3>
        <div id="horsesTianji" class="flex gap-2 flex-wrap">
          <!-- é©¬åŒ¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
      </div>

      <button id="nextBtn" class="bg-purple-600 text-white px-4 py-2 rounded disabled:bg-gray-400" disabled>
        ä¸‹ä¸€æ­¥
      </button>

      <div class="bg-yellow-100 p-4 rounded my-4">
        ğŸ¯ å½“å‰èµ¢çš„åœºæ•°ï¼š<span id="winCount">0</span><br />
        ğŸ”¢ å½“å‰æ­¥éª¤ï¼š<span id="stepCount">0</span>
      </div>

      <div id="progressBar" class="flex gap-1 mb-4">
        <!-- è¿›åº¦æ¡å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
      </div>

      <div class="bg-white p-4 rounded shadow max-h-64 overflow-y-auto text-sm" id="logContainer">
        <!-- æ—¥å¿—å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
    
    <!-- å³ä¾§ï¼šä»£ç é«˜äº® -->
    <div class="bg-white p-4 rounded-lg shadow-lg">
      <h2 class="text-xl font-semibold mb-3">C++ ä»£ç é«˜äº®</h2>
      <div class="relative">
        <div class="absolute top-2 right-2">
          <button id="copyBtn" class="text-gray-600 hover:text-gray-900 transition-colors">
            <i class="fa fa-copy mr-1"></i>å¤åˆ¶ä»£ç 
          </button>
        </div>
        <pre><code class="language-cpp" id="codeBlock">#include&lt;bits/stdc++.h&gt;
using namespace std;
void output_digit(int d){
    if(d&gt;=10) cout&lt;&lt;(char)(d-10+'A');
    else cout&lt;&lt;(char)('0'+d);
}
void output_code(int s){
    output_digit(s&gt;&gt;4);
    output_digit(s &amp; 0x0f);
}
int main(){
    long long n=0;
    cin&gt;&gt;n;
    long long split[10];
    int l=0;
    while(n&gt;0){
        split[l]=(int)(n &amp; 0x7f);
        n&gt;&gt;=7;
        l++;
    }
    for(int i=0;i&lt;l-1;i++){
         split[i] |= 0x80;   
    }
    output_code(split[0]);
    for(int i=1;i&lt;l;i++){
            cout&lt;&lt;" ";
            output_code(split[i]);
    }
    cout&lt;&lt;endl;
    return 0;
}</code></pre>
      </div>
      
      <div class="mt-4 bg-blue-50 p-3 rounded">
        <h3 class="font-semibold text-blue-700 mb-2">ä»£ç è¯´æ˜</h3>
        <p class="text-gray-700">è¿™æ®µC++ä»£ç å®ç°äº†ä¸€ä¸ªæ•°å­—çš„å˜é•¿ç¼–ç åŠŸèƒ½ï¼š</p>
        <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
          <li>å°†è¾“å…¥çš„æ•´æ•°æŒ‰7ä½ä¸€ç»„è¿›è¡Œåˆ†å‰²</li>
          <li>é™¤æœ€åä¸€ç»„å¤–ï¼Œæ¯ç»„æœ€é«˜ä½è®¾ä¸º1è¡¨ç¤ºåç»­è¿˜æœ‰æ•°æ®</li>
          <li>æ¯ä¸ªå­—èŠ‚ä»¥ä¸¤ä½åå…­è¿›åˆ¶å½¢å¼è¾“å‡º</li>
          <li>ä¾‹å¦‚è¾“å…¥123456ä¼šè¢«ç¼–ç ä¸º87 85 E0</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    // åˆå§‹åŒ–ä»£ç é«˜äº®
    document.addEventListener('DOMContentLoaded', (event) => {
        hljs.highlightAll();
        startGame(); // å¯åŠ¨ç”°å¿Œèµ›é©¬æ¸¸æˆ
        
        // å¤åˆ¶ä»£ç æŒ‰é’®åŠŸèƒ½
        const copyBtn = document.getElementById('copyBtn');
        const codeBlock = document.getElementById('codeBlock');
        
        copyBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(codeBlock.textContent)
                .then(() => {
                    const originalText = copyBtn.innerHTML;
                    copyBtn.innerHTML = '<i class="fa fa-check mr-1"></i>å·²å¤åˆ¶';
                    setTimeout(() => {
                        copyBtn.innerHTML = originalText;
                    }, 2000);
                })
                .catch(err => {
                    console.error('å¤åˆ¶å¤±è´¥: ', err);
                    copyBtn.innerHTML = '<i class="fa fa-times mr-1"></i>å¤åˆ¶å¤±è´¥';
                    setTimeout(() => {
                        copyBtn.innerHTML = '<i class="fa fa-copy mr-1"></i>å¤åˆ¶ä»£ç ';
                    }, 2000);
                });
        });
    });

    // æ¸¸æˆçŠ¶æ€å˜é‡
    let youInput = "1 3 5";
    let tianjiInput = "2 4 6";
    let horsesYou = [];
    let horsesTianji = [];
    let i = 0; // ç”°å¿Œå·²å‡ºåœºé©¬åŒ¹æ•°
    let j = 0; // æˆ‘æ–¹å·²å‡ºåœºé©¬åŒ¹æ•°
    let win = 0; // èƒœåˆ©åœºæ•°
    let step = 0; // å½“å‰æ­¥æ•°
    let log = []; // æ—¥å¿—è®°å½•
    let intervalRef = null; // è‡ªåŠ¨æ’­æ”¾å®šæ—¶å™¨å¼•ç”¨

    // DOMå…ƒç´ 
    const youInputEl = document.getElementById('youInput');
    const tianjiInputEl = document.getElementById('tianjiInput');
    const startBtn = document.getElementById('startBtn');
    const autoBtn = document.getElementById('autoBtn');
    const nextBtn = document.getElementById('nextBtn');
    const horsesYouEl = document.getElementById('horsesYou');
    const horsesTianjiEl = document.getElementById('horsesTianji');
    const winCountEl = document.getElementById('winCount');
    const stepCountEl = document.getElementById('stepCount');
    const progressBarEl = document.getElementById('progressBar');
    const logContainerEl = document.getElementById('logContainer');

    // äº‹ä»¶ç›‘å¬å™¨
    youInputEl.addEventListener('input', (e) => { youInput = e.target.value; });
    tianjiInputEl.addEventListener('input', (e) => { tianjiInput = e.target.value; });
    startBtn.addEventListener('click', startGame);
    autoBtn.addEventListener('click', autoPlay);
    nextBtn.addEventListener('click', nextStep);

    // åˆå§‹åŒ–æ¸¸æˆ
    function startGame() {
      // è§£æè¾“å…¥å¹¶æ’åº
      horsesYou = youInput.trim().split(/\s+/).map(Number).sort((a, b) => a - b);
      horsesTianji = tianjiInput.trim().split(/\s+/).map(Number).sort((a, b) => a - b);
      
      // é‡ç½®æ¸¸æˆçŠ¶æ€
      i = 0;
      j = 0;
      win = 0;
      step = 0;
      log = [];
      
      // æ¸…é™¤å®šæ—¶å™¨
      clearInterval(intervalRef);
      
      // æ›´æ–°UI
      updateUI();
    }

    // æ‰§è¡Œä¸‹ä¸€æ­¥
    function nextStep() {
      // æ£€æŸ¥æ¸¸æˆæ˜¯å¦ç»“æŸ
      if (i >= horsesTianji.length || j >= horsesYou.length) return;
      
      // æ›´æ–°æ­¥æ•°
      step++;
      
      let newI = i;
      let newJ = j;
      let newWin = win;
      
      // åˆ¤æ–­å½“å‰å›åˆç»“æœ
      if (horsesYou[j] > horsesTianji[i]) {
        log.push(`ğŸ‘‰ ç¬¬${step}æ­¥ï¼šæˆ‘æ–¹å‡º ${horsesYou[j]} > ç”°å¿Œå‡º ${horsesTianji[i]}ï¼Œè·èƒœ âœ…`);
        newI++;
        newJ++;
        newWin++;
      } else {
        log.push(`ğŸ‘‰ ç¬¬${step}æ­¥ï¼šæˆ‘æ–¹å‡º ${horsesYou[j]} <= ç”°å¿Œå‡º ${horsesTianji[i]}ï¼Œå¤±è´¥ âŒ`);
        newJ++;
      }
      
      // æ›´æ–°çŠ¶æ€
      i = newI;
      j = newJ;
      win = newWin;
      
      // æ›´æ–°UI
      updateUI();
      
      // æ£€æŸ¥æ¸¸æˆæ˜¯å¦ç»“æŸ
      if (i >= horsesTianji.length || j >= horsesYou.length) {
        clearInterval(intervalRef);
      }
    }

    // è‡ªåŠ¨æ’­æ”¾
    function autoPlay() {
      clearInterval(intervalRef);
      intervalRef = setInterval(() => {
        nextStep();
      }, 800);
    }

    // æ›´æ–°UI
    function updateUI() {
      // æ›´æ–°é©¬åŒ¹æ˜¾ç¤º
      renderHorses(horsesYouEl, horsesYou, j, 'bg-teal-200');
      renderHorses(horsesTianjiEl, horsesTianji, i, 'bg-blue-200');
      
      // æ›´æ–°è®¡æ•°
      winCountEl.textContent = win;
      stepCountEl.textContent = step;
      
      // æ›´æ–°è¿›åº¦æ¡
      renderProgressBar();
      
      // æ›´æ–°æ—¥å¿—
      renderLog();
      
      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      nextBtn.disabled = i >= horsesTianji.length || j >= horsesYou.length;
    }

    // æ¸²æŸ“é©¬åŒ¹
    function renderHorses(container, horses, activeIndex, baseClass) {
      container.innerHTML = '';
      horses.forEach((val, idx) => {
        const horseEl = document.createElement('div');
        horseEl.className = `px-3 py-1 rounded shadow ${idx < activeIndex ? 'bg-gray-400' : baseClass}`;
        horseEl.textContent = `ğŸ ${val}`;
        container.appendChild(horseEl);
      });
    }

    // æ¸²æŸ“è¿›åº¦æ¡
    function renderProgressBar() {
      progressBarEl.innerHTML = '';
      for (let idx = 0; idx < step; idx++) {
        const barEl = document.createElement('div');
        barEl.className = 'h-4 w-2 rounded';
        barEl.style.backgroundColor = idx < win ? '#4caf50' : '#f44336';
        progressBarEl.appendChild(barEl);
      }
    }

    // æ¸²æŸ“æ—¥å¿—
    function renderLog() {
      logContainerEl.innerHTML = '';
      log.forEach((line, idx) => {
        const lineEl = document.createElement('div');
        lineEl.textContent = line;
        logContainerEl.appendChild(lineEl);
      });
      
      // æ»šåŠ¨åˆ°åº•éƒ¨
      logContainerEl.scrollTop = logContainerEl.scrollHeight;
    }
  </script>
</body>
</html>